(this["webpackJsonpnews-explorer-react-frontend"]=this["webpackJsonpnews-explorer-react-frontend"]||[]).push([[0],Array(28).concat([function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),i=n(19),r=n.n(i),o=n(9),l=(n(28),n(5)),d=n(21),u=n(2),m=n(3);n(29);var h=function(e){return Object(a.jsx)(a.Fragment,{children:e.navLink?Object(a.jsx)(o.b,{title:e.title,className:"link ".concat(e.className),to:e.to,children:e.value}):e.linkImage?Object(a.jsx)("a",{title:e.title,className:"link ".concat(e.classNameLink),href:e.href,target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{src:e.src,alt:e.alt,className:e.classNameImage})}):Object(a.jsx)("a",{title:e.title,className:"link ".concat(e.className),href:e.href,target:"_blank",rel:"noopener noreferrer",children:e.value})})};n(38);var j=function(e){var t=e.isMenuMobile,n=e.main,c="nav__text ".concat(t?"nav__text_mobile":n?"nav__text_selected":"nav__text_saved-news"),s="nav__text  ".concat(t?"nav__text_mobile":n?"":"nav__text_saved-news nav__text_selected-saved-news");return Object(a.jsx)("nav",{className:"nav",children:Object(a.jsxs)("ul",{className:"nav__list ".concat(t?"nav__list_mobile":""),children:[Object(a.jsx)("li",{className:"nav__item",children:Object(a.jsx)(h,{navLink:!0,title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c",to:"/",className:c,value:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),e.loggedIn&&Object(a.jsx)("li",{className:"nav__item",children:Object(a.jsx)(h,{navLink:!0,title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0442\u0430\u0442\u044c\u044f\u043c\u0438",to:"/saved-news",className:s,value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"})})]})})},b=(n(39),function(e){return Object(a.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,className:"button ".concat(e.className),children:[Object(a.jsx)("span",{className:"button__text button__text_type_".concat(e.classNameBtn),children:e.title}),e.image&&Object(a.jsx)("img",{className:"button__img button__img_type_".concat(e.classNameBtn),src:e.src,alt:e.alt})]})}),_=(n(40),function(e){var t=e.main?"btn-mobile-menu__container":"btn-mobile-menu__container_saved-news",n="btn-mobile-menu__button ".concat(e.isOpen?"btn-mobile-menu__button_type_close":e.main?"btn-mobile-menu__button_type_main":"btn-mobile-menu__button_type_saved-news");return Object(a.jsx)(a.Fragment,{children:e.useMobileMenu&&Object(a.jsx)("div",{className:t,children:Object(a.jsx)("button",{onClick:e.onClick,className:n})})})}),p=n.p+"static/media/logout-main.d9c014d5.svg",f=(n(41),function(e){return Object(a.jsx)("div",{className:"mobile-menu mobile-menu_opened",children:Object(a.jsxs)("div",{className:"mobile-menu__container",children:[Object(a.jsx)(j,{loggedIn:e.loggedIn,main:e.main,isMenuMobile:!0}),e.loggedIn?Object(a.jsx)(b,{classNameBtn:"mobile",className:"button_type_mobile",image:!0,title:"\u0413\u0440\u0435\u0442\u0430",src:p,alt:"\u0412\u044b\u0445\u043e\u0434",onClick:e.handleSignOut}):Object(a.jsx)(b,{classNameBtn:"mobile",className:"button_type_mobile",image:!1,title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onClick:e.handleLogin})]})})}),O=n.p+"static/media/logout-saved-news.a684646e.svg",g=s.a.createContext();n(42);var v=function(e){var t=s.a.useContext(g),n=s.a.useState(!1),c=Object(u.a)(n,2),i=c[0],r=c[1],o=s.a.useState(!1),l=Object(u.a)(o,2),d=l[0],m=l[1],v="/"===e.pathname||i,x=i&&e.hasOpenPopup&&v,w="header__logo ".concat(v?"":"header__logo_saved-news"),k="header page__header";i?e.hasOpenPopup?k+="".concat(v?" header_type_bg":" header_type_saved-news"):k+="".concat(v?" header_type_one-colour":" header_type_saved-news"):k+="".concat(v?" header_type_bg":" header_type_saved-news");var N=v?"logout-main":"logout-saves-news",y=v?p:O;return s.a.useEffect((function(){e.screenWidth<=620?m(!0):(m(!1),r(!1))}),[e.screenWidth]),s.a.useEffect((function(){var e=function(e){e.target.classList.contains("mobile-menu_opened")&&r(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),s.a.useEffect((function(){var e=function(e){"Escape"===e.key&&r(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(a.jsxs)("header",{className:k,children:[Object(a.jsxs)("div",{className:"header__container",children:[Object(a.jsx)("span",{className:"header__border ".concat(v?"":"header__border_saved-news")}),Object(a.jsx)(h,{navLink:!0,title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c",to:"/",className:w,value:"".concat(x?"":"NewsExplorer")}),Object(a.jsxs)("div",{className:"header__menu",children:[Object(a.jsx)(j,{loggedIn:e.loggedIn,main:v}),e.loggedIn?Object(a.jsx)(b,{classNameBtn:N,className:"button_type_".concat(N),image:!0,title:t.name||"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",src:y,alt:"\u0412\u044b\u0445\u043e\u0434",onClick:e.handleSignOut}):Object(a.jsx)(b,{classNameBtn:"auth",className:"button_type_auth",image:!1,title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onClick:e.handleLogin})]}),Object(a.jsx)(_,{main:v,isOpen:i,useMobileMenu:d,onClick:function(){r(!i)}})]}),i&&Object(a.jsx)(f,{isOpen:i,loggedIn:e.loggedIn,main:v,handleLogin:e.handleLogin,handleSignOut:e.handleSignOut})]})};n(43);var x=function(){return Object(a.jsx)("section",{className:"no-results",children:Object(a.jsxs)("div",{className:"no-results__container",children:[Object(a.jsx)("div",{className:"no-results__img"}),Object(a.jsx)("h3",{className:"no-results__title",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(a.jsx)("p",{className:"no-results__subtitle",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})]})})},w=n(10);n(44);var k=function(e){var t=s.a.useState({keyword:""}),n=Object(u.a)(t,2),c=n[0],i=n[1];return Object(a.jsx)("section",{className:"search-form",children:Object(a.jsxs)("div",{className:"search-form__container",children:[Object(a.jsx)("h1",{className:"search-form__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(a.jsx)("p",{className:"search-form__subtitle",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."}),Object(a.jsxs)("div",{className:"search-form__input-container",children:[Object(a.jsx)("input",{className:"search-form__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",type:"text",name:"keyword",required:!0,value:c.keyword,onChange:function(e){var t=e.target,n=t.name,a=t.value;i(Object(l.a)(Object(l.a)({},c),{},Object(w.a)({},n,a)))},autoComplete:"off"}),Object(a.jsx)(b,{classNameBtn:"search-form",className:"button_type_search-form button_type_link",type:"submit",image:!1,title:"\u0418\u0441\u043a\u0430\u0442\u044c",onClick:function(t){t.preventDefault(),e.handleSearchArticles(c)}})]})]})})},N=n.p+"static/media/avatar.65820a12.jpg",y=(n(45),function(){return Object(a.jsx)("section",{className:"about",children:Object(a.jsxs)("div",{className:"about__container",children:[Object(a.jsx)("img",{className:"about__avatar",src:N,alt:"\u0430\u0432\u0430\u0442\u0430\u0440 \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(a.jsxs)("div",{className:"about__description-container",children:[Object(a.jsx)("p",{className:"about__title",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(a.jsx)("p",{className:"about__paragraf",children:"\u042d\u0442\u043e \u0431\u043b\u043e\u043a \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0417\u0434\u0435\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442, \u0447\u0435\u043c \u0432\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c, \u043a\u0430\u043a\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043b\u0430\u0434\u0435\u0435\u0442\u0435."}),Object(a.jsx)("p",{className:"about__paragraf",children:"\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u0447\u0435\u043c\u0443 \u0432\u044b \u0442\u0443\u0442 \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0438 \u0447\u0435\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\u043c."})]})]})})}),S=(n(46),function(e){var t=e.card,n=e.tooltip,c=e.iconSave,s=e.loggedIn,i=e.onAddArticle,r=(e.handleArticleRequest,e.onHandleError,e.onArticleDelete),o=e.handleBookmarkUnsavedClick,l=e.screenWidth;function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=146;return t?n=l>800?60:l<=800&&l>500?40:30:l<=800&&l>500?n=70:l<=500&&(n=75),e.length<=n?e:"".concat(e.slice(0,n),"...")}return Object(a.jsxs)("li",{className:"news-card",children:[c?Object(a.jsx)("button",{type:"button",className:"news-card__btn ".concat(t.isSaved?"news-card__btn_type_save-marked":"news-card__btn_type_save"),onClick:function(){s||o(),t.isSaved?r(t):i(t)}}):Object(a.jsx)("button",{type:"button",className:"news-card__btn news-card__btn_type_trash",onClick:function(){r(t)}}),Object(a.jsx)("div",{className:"news-card__tooltip ".concat(s?"":"news-card__tooltip_not-loggedin"),children:n}),!c&&Object(a.jsx)("div",{className:"news-card__keyword-container",children:t.keyword}),Object(a.jsxs)("a",{className:"news-card__link",href:t.link,target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("img",{className:"news-card__img",src:t.image,alt:t.title}),Object(a.jsxs)("div",{className:"news-card__info",children:[Object(a.jsx)("p",{className:"news-card__date",children:t.date}),Object(a.jsx)("h3",{className:"news-card__title",children:d(t.title)}),Object(a.jsx)("p",{className:"news-card__text",children:d(t.text,!1)})]}),Object(a.jsx)("p",{className:"news-card__source",children:t.source})]})]})});n(47);var C=function(e){var t=!0,n="\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438",c=!0;return"/saved-news"===e.pathname&&(n="\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445",c=!1,t=!1),Object(a.jsx)("section",{className:"news-cards page__news-cards",children:Object(a.jsx)("div",{className:"news-cards__container",children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"news-cards__title",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(a.jsx)("ul",{className:"news-cards__list",children:e.articles.slice(0,e.rowArticles).map((function(t,s){return Object(a.jsx)(S,{card:t,tooltip:n,iconSave:c,onAddArticle:e.onAddArticle,onArticleDelete:e.onArticleDelete,loggedIn:e.loggedIn,handleArticleRequest:e.handleArticleRequest,onHandleError:e.onHandleError,handleBookmarkUnsavedClick:e.handleBookmarkUnsavedClick,screenWidth:e.screenWidth},s)}))}),Object(a.jsx)("div",{className:"news-cards__btn-position",children:e.articles.length-e.rowArticles>0&&Object(a.jsx)(b,{classNameBtn:"more-results",className:"button_type_more-results",image:!1,title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435",onClick:e.handleShowMoreArticles})})]}):Object(a.jsx)("ul",{className:"news-cards__list",children:e.articles.map((function(t,s){return Object(a.jsx)(S,{card:t,tooltip:n,iconSave:c,onArticleDelete:e.onArticleDelete},s)}))})})})};var A=function(e){return Object(a.jsxs)("main",{className:"main",children:[Object(a.jsx)(k,{handleSearchArticles:e.handleSearchArticles}),e.notFound&&Object(a.jsx)(x,{}),0!==e.articles.length&&Object(a.jsx)(C,{loggedIn:e.loggedIn,pathname:e.pathname,articles:e.articles,rowArticles:e.rowArticles,screenWidth:e.screenWidth,handleShowMoreArticles:e.handleShowMoreArticles,onAddArticle:e.onAddArticle,onArticleDelete:e.onArticleDelete,handleArticleRequest:e.handleArticleRequest,onHandleError:e.onHandleError,handleBookmarkUnsavedClick:e.handleBookmarkUnsavedClick}),Object(a.jsx)(y,{})]})},E=n.p+"static/media/navigation-bg.61ff31f6.jpg";function I(e){var t=new Date(e);return"".concat(t.toLocaleString("ru",{day:"numeric",month:"long"}),", ").concat(t.getFullYear())}function L(e,t){return e.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.title,a=e.description,c=e.publishedAt,s=e.source,i=e.url,r=e.urlToImage;return{_id:"".concat(i,"/").concat(c),isSaved:!1,keyword:t,title:n,text:a||"",date:I(c)||"",source:s.name||"",link:i,image:r||E}}(e,t)}))}n(48);var T=function(e){var t,n=s.a.useContext(g),c=(t=e.articles.length,["\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f","\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438","\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439"][t%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]]);return Object(a.jsxs)("section",{className:"saved-news-header",children:[Object(a.jsx)("h2",{className:"saved-news-header__title",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(a.jsx)("p",{className:"saved-news-header__subtitle",children:"".concat(n.name,", \u0443 \u0412\u0430\u0441 ").concat(0===e.articles.length?"\u0435\u0449\u0451 \u043d\u0435\u0442":e.articles.length," ").concat(c)}),0!==e.articles.length&&Object(a.jsxs)("p",{className:"saved-news-header__text",children:["\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:\xa0",function(){var t=e.articles.map((function(e){return e.keyword})).reduce((function(e,t){return e[t]=void 0===e[t]?1:e[t]+=1,e}),{}),n=Object.keys(t).reverse().map((function(e){return[e,t[e]]})).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}));return 1===n.length?Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[0]}):2===n.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[0]}),"\xa0\u0438\xa0",Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[1]})]}):3===n.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[0]}),"\xa0,\xa0",Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[1]}),"\xa0\u0438\xa0",Object(a.jsx)("span",{className:"saved-news-header__text-span",children:n[2]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"saved-news-header__text-span",children:[n[0],", ",n[1]]}),"\xa0\u0438\xa0",Object(a.jsxs)("span",{span:!0,className:"saved-news-header__text-span",children:[" ",n.length-2,"-\u043c \u0434\u0440\u0443\u0433\u0438\u043c"]})]})}()]})]})},B=function(e){return Object(a.jsxs)("main",{children:[Object(a.jsx)(T,{articles:e.articles}),Object(a.jsx)(C,{pathname:e.pathname,articles:e.articles,screenWidth:e.screenWidth,onHandleError:e.onHandleError,onArticleDelete:e.onArticleDelete,handleBookmarkUnsavedClick:e.handleBookmarkUnsavedClick})]})},D=n.p+"static/media/github.0719b4bc.svg",F=n.p+"static/media/fb_square.3f662df3.svg",W=n.p+"static/media/fb_circle.fe55b6ce.svg";n(49);var P=function(e){var t=e.screenWidth;return Object(a.jsxs)("footer",{className:"footer page__footer",children:[Object(a.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(a.jsxs)("div",{className:"footer__menu",children:[Object(a.jsxs)("ul",{className:"footer__list footer__list_",children:[Object(a.jsx)("li",{className:"footer__item",children:Object(a.jsx)(h,{navLink:!0,title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0413\u043b\u0430\u0432\u043d\u0443\u044e",className:"footer__link",to:"/",value:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"footer__item",children:Object(a.jsx)(h,{title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0430\u0439\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430 \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",href:"https://praktikum.yandex.ru",className:"footer__link",to:"/",value:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})})]}),Object(a.jsxs)("ul",{className:"footer__list  footer__list_social-icon",children:[Object(a.jsx)("li",{className:"footer__item",children:Object(a.jsx)(h,{linkImage:!0,title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0430\u0439\u0442 Github \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",href:"https://github.com/janenick",className:"footer__link",to:"/",src:D,alt:"Github"})}),Object(a.jsx)("li",{className:"footer__item",children:Object(a.jsx)(h,{linkImage:!0,title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0430\u0439\u0442 Facebook \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",href:"https://www.facebook.com",className:"footer__link",to:"/",src:t<=800&&t>500?W:F,alt:"Facebook"})})]})]})]})},q=(n(50),function(e){var t=e.isOpen,n=e.onClick,c=e.children;return Object(a.jsx)("div",{className:"overlay overlay_visible_".concat(t),onClick:function(e){e.target===e.currentTarget&&n()},children:c})});n(51);var M=function(e){var t=e.name,n=e.title,c=e.onSubmit,s=e.children;return Object(a.jsxs)("form",{name:"popup__form-".concat(t),onSubmit:c,className:"popup__form",noValidate:!0,children:[Object(a.jsx)("h2",{className:"popup__title",children:n}),s]})},R=(n(52),function(e){var t=e.isOpen,n=e.children;return Object(a.jsx)("div",{className:"modal modal_visible_".concat(t),children:n})}),V=(n(53),function(e){var t=e.onClick;return Object(a.jsx)("button",{onClick:t,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"close-btn"})});n(54);var H=function(e){return Object(a.jsx)(q,{isOpen:e.isOpen,onClick:e.onClose,children:Object(a.jsxs)(R,{isOpen:e.isOpen,children:[Object(a.jsx)(V,{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(a.jsxs)(M,{name:e.name,title:e.title,onSubmit:e.onSubmit,children:[e.children,!e.isActionSuccess&&Object(a.jsx)("span",{className:"popup__error ".concat(e.register?"":"popup__error_login"," "),children:e.actionError}),Object(a.jsx)(b,{disabled:e.anyInputInvalid,type:"submit",classNameBtn:e.isDisabled?"disabled":"popup",className:e.isDisabled?"button_type_disabled":"button_type_popup button_type_link",title:e.formButtonText}),Object(a.jsxs)("p",{className:"popup__action-text",children:["\u0438\u043b\u0438 ",Object(a.jsx)("span",{className:"popup__link popup__action-text",onClick:e.onChangeForm,children:e.login?"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"\u0412\u043e\u0439\u0442\u0438"})]})]})]})})};n(55);var U=function(e){return Object(a.jsxs)("label",{className:"popup__label",children:[e.label,Object(a.jsx)("input",{name:e.name,value:e.value||"",type:e.type,placeholder:e.placeholder,onChange:e.onChange,className:"popup__input",required:e.required,minLength:e.minLength,maxLength:e.maxLength}),Object(a.jsxs)("span",{className:e.isValid?"":"popup__input-error",children:[" ",e.error||""]})]})};var z=function(){var e=s.a.useState({}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=s.a.useState({}),i=Object(u.a)(c,2),r=i[0],o=i[1],d=s.a.useState(!1),m=Object(u.a)(d,2),h=m[0],j=m[1],b=s.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e),o(t),j(n)}),[a,o,j]);return{values:n,handleInputChange:function(e){var t=e.target,c=t.value,s=t.name;a(Object(l.a)(Object(l.a)({},n),{},Object(w.a)({},s,c))),o(Object(l.a)(Object(l.a)({},r),{},Object(w.a)({},s,t.validationMessage))),j(t.closest("form").checkValidity())},errors:r,isValid:h,setIsValid:j,resetForm:b}};var J=function(e){var t=e.handleLogin,n=e.isOpen,c=e.onClose,i=e.onChangeForm,r=e.actionError,o=e.isActionSuccess,l=z(),d=l.values,u=l.handleInputChange,m=l.errors,h=l.isValid,j=l.resetForm;return s.a.useEffect((function(){j()}),[n,j]),Object(a.jsxs)(H,{login:!0,actionError:r,isActionSuccess:o,name:"login",title:"\u0412\u0445\u043e\u0434",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t(d)},onChangeForm:i,isDisabled:!h,formButtonText:"\u0412\u043e\u0439\u0442\u0438",children:[Object(a.jsx)(U,{label:"E-mail",id:"email",required:!0,error:m.email,value:d.email||"",name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",onChange:u,noValidate:!0}),Object(a.jsx)(U,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"email",required:!0,error:m.password,value:d.password||"",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:u,noValidate:!0,minLength:"8",maxLength:"30"})]})};var G=function(e){var t=e.handleRegister,n=e.isOpen,c=e.onClose,i=e.onChangeForm,r=e.actionError,o=e.isActionSuccess,l=z(),d=l.values,u=l.handleInputChange,m=l.errors,h=l.isValid,j=l.resetForm;return s.a.useEffect((function(){j()}),[n,j]),Object(a.jsxs)(H,{register:!0,actionError:r,isActionSuccess:o,name:"register",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t(d)},onChangeForm:i,isDisabled:!h,formButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",children:[Object(a.jsx)(U,{label:"E-mail",id:"email",required:!0,error:m.email,value:d.email,name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",onChange:u,noValidate:!0}),Object(a.jsx)(U,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"email",required:!0,error:m.password,value:d.password||"",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:u,noValidate:!0,minLength:"8",maxLength:"30"}),Object(a.jsx)(U,{label:"\u0418\u043c\u044f",id:"name",required:!0,error:m.name,value:d.name||"",name:"name",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",onChange:u,noValidate:!0,minLength:"2",maxLength:"30"})]})};n(56);var K=function(e){var t=e.isOpen,n=e.onClose,c=e.canAuth,s=e.message,i=e.onChangeForm;return Object(a.jsx)(q,{isOpen:t,onClick:n,children:Object(a.jsxs)(R,{isOpen:t,children:[Object(a.jsx)(V,{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:n}),Object(a.jsx)("p",{className:"info-tooltip__text",children:s}),c&&Object(a.jsx)("p",{className:"info-tooltip__link",onClick:i,children:"\u0412\u043e\u0439\u0442\u0438"})]})})};n(57);var Y=function(e){var t=e.isOpen;return Object(a.jsx)(q,{isOpen:t,children:Object(a.jsxs)("div",{className:"preloader__container",children:[Object(a.jsx)("div",{className:"preloader__circle"}),Object(a.jsx)("p",{className:"preloader__title",children:"\u0418\u0449\u0435\u043c \u043d\u043e\u0432\u043e\u0441\u0442\u0438..."})]})})},$=n(22),Q=function(e){var t=e.component,n=Object($.a)(e,["component"]);return Object(a.jsx)(m.b,{children:function(){return!0===n.loggedIn?Object(a.jsx)(t,Object(l.a)({},n)):Object(a.jsx)(m.a,{to:"./"})}})},X=n.p+"static/media/image_01.9d234ce5.jpg",Z=n.p+"static/media/image_05.bf0279d6.jpg",ee=n.p+"static/media/image_06.ae945385.jpg",te=[{keyword:"\u0422\u0430\u0439\u0433\u0430",title:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0434\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u2013 \u043f\u0430\u0440\u043a\u0438",text:"\u0412 2016 \u0433\u043e\u0434\u0443 \u0410\u043c\u0435\u0440\u0438\u043a\u0430 \u043e\u0442\u043c\u0435\u0447\u0430\u043b\u0430 \u0432\u0430\u0436\u043d\u044b\u0439 \u044e\u0431\u0438\u043b\u0435\u0439: 1234",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u0414\u0437\u0435\u043d",link:"https://nat-geo.ru/nature/natsionalnoe-dostoyanie-parki/",image:ee,owner:"123"},{keyword:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",title:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0434\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u2013 \u043f\u0430\u0440\u043a\u0438",text:"\u0412 2016 \u0433\u043e\u0434\u0443 \u0410\u043c\u0435\u0440\u0438\u043a\u0430 \u043e\u0442\u043c\u0435\u0447\u0430\u043b\u0430 \u0432\u0430\u0436\u043d\u044b\u0439 \u044e\u0431\u0438\u043b\u0435\u0439: \u0441\u0442\u043e \u043b\u0435\u0442 \u043d\u0430\u0437\u0430\u0434 \u0437\u0434\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u043a\u043e\u0432 \u2013 \u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c\u044b\u0445 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439, \u0433\u0434\u0435 \u0438 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043e\u0431\u0449\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u0438\u0440\u043e\u0434\u0435. 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 ",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u0414\u0437\u0435\u043d",link:"https://nat-geo.ru/nature/natsionalnoe-dostoyanie-parki/",image:ee,owner:"123"},{keyword:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",title:"\u041b\u0435\u0441\u043d\u044b\u0435 \u043e\u0433\u043e\u043d\u044c\u043a\u0438: \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0434\u043d\u043e\u0439 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",text:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444 \u043e\u0442\u0432\u043b\u0435\u043a\u043b\u0430\u0441\u044c \u043e\u0442 \u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0441\u0443\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u041c\u0435\u043a\u0441\u0438\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u0442\u044c \u0443\u0441\u043a\u043e\u043b\u044c\u0437\u0430\u044e\u0449\u0443\u044e \u043a\u0440\u0430\u0441\u043e\u0442\u0443 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0447\u0443\u0434\u0435\u0441 \u043f\u0440\u0438\u0440\u043e\u0434\u044b.",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u0410\u0444\u0438\u0448\u0430",link:"https://nat-geo.ru/nature/lesnye-ogonki-istoriya-odnoj-fotografii/",image:X,owner:"123"},{keyword:"\u0422\u0430\u0439\u0433\u0430",title:"\xab\u041f\u0435\u0440\u0432\u043e\u0437\u0434\u0430\u043d\u043d\u0430\u044f \u0442\u0430\u0439\u0433\u0430\xbb: \u043d\u043e\u0432\u044b\u0439 \u0444\u043e\u0442\u043e\u043f\u0440\u043e\u0435\u043a\u0442 \u0418\u0433\u043e\u0440\u044f \u0428\u043f\u0438\u043b\u0435\u043d\u043a\u0430 \u0434\u0430\u043b\u044c\u0448\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u0432. \u041d\u0430\u0434\u043e \u0431\u044b \u0438\u0445 \u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c \u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043c\u043d\u043e\u0433\u043e\u0442\u043e\u0447\u0438\u0435.",text:"\u0417\u043d\u0430\u043c\u0435\u043d\u0438\u0442\u044b\u0439 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u043d\u0438\u043c\u0430\u0435\u0442 \u043f\u0435\u0440\u0432\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u0435\u0441\u0430 \u0420\u043e\u0441\u0441\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0438\u0445 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f. \u0412 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u043e\u043d \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0432 \u0414\u0432\u0438\u043d\u0441\u043a\u043e-\u041f\u0438\u043d\u0435\u0436\u0441\u043a\u0443\u044e \u0442\u0430\u0439\u0433\u0443, \u0433\u0434\u0435 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 ",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u041c\u0435\u0434\u0438\u0430\u0437\u043e\u043d\u0430",link:"#",image:Z,owner:"123"},{keyword:"\u041f\u0430\u0440\u043a\u0438",title:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0434\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u2013 \u043f\u0430\u0440\u043a\u0438",text:"\u0412 2016 \u0433\u043e\u0434\u0443 \u0410\u043c\u0435\u0440\u0438\u043a\u0430 \u043e\u0442\u043c\u0435\u0447\u0430\u043b\u0430 \u0432\u0430\u0436\u043d\u044b\u0439 \u044e\u0431\u0438\u043b\u0435\u0439: \u0441\u0442\u043e \u043b\u0435\u0442 \u043d\u0430\u0437\u0430\u0434 \u0437\u0434\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u043a\u043e\u0432 \u2013 \u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c\u044b\u0445 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439, \u0433\u0434\u0435 \u0438 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043e\u0431\u0449\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u0438\u0440\u043e\u0434\u0435.",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u0414\u0437\u0435\u043d",link:"#",image:ee,owner:"123"},{keyword:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",title:"\u041b\u0435\u0441\u043d\u044b\u0435 \u043e\u0433\u043e\u043d\u044c\u043a\u0438: \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0434\u043d\u043e\u0439 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",text:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444 \u043e\u0442\u0432\u043b\u0435\u043a\u043b\u0430\u0441\u044c \u043e\u0442 \u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0441\u0443\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u041c\u0435\u043a\u0441\u0438\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u0442\u044c \u0443\u0441\u043a\u043e\u043b\u044c\u0437\u0430\u044e\u0449\u0443\u044e \u043a\u0440\u0430\u0441\u043e\u0442\u0443 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0447\u0443\u0434\u0435\u0441 \u043f\u0440\u0438\u0440\u043e\u0434\u044b.",date:"2 \u0430\u0432\u0433\u0443\u0441\u0442\u0430, 2019",source:"\u0410\u0444\u0438\u0448\u0430",link:"#",image:X,owner:"123"}],ne={year:"numeric",month:"2-digit",day:"2-digit"},ae=new Intl.DateTimeFormat("sv",ne).format(Date.now()),ce=new Intl.DateTimeFormat("sv",ne).format(Date.now()-6048e5),se="".concat(window.location.protocol).concat(Object({NODE_ENV:"production",PUBLIC_URL:"/news-explorer-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"//localhost:3000"),ie=function(e){return new Promise((function(t,n){var a=e.status<400?t:n;e.json().then((function(t){a({status:e.status,data:t})}))}))},re=function(e){var t=e.keyword,n=e.title,a=e.text,c=e.date,s=e.source,i=e.link,r=e.image;return fetch("".concat(se,"/articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({keyword:t,title:n,text:a,date:c,source:s,link:i,image:r})}).then(ie)},oe=function(e){return fetch("".concat(se,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(ie)};var le=function(){var e=s.a.useState(window.innerWidth),t=Object(u.a)(e,2),n=t[0],c=t[1],i=s.a.useState(!1),r=Object(u.a)(i,2),o=r[0],h=r[1],j=s.a.useState(!1),b=Object(u.a)(j,2),_=b[0],p=b[1],f=s.a.useState(!1),O=Object(u.a)(f,2),x=O[0],w=O[1],k=s.a.useState(""),N=Object(u.a)(k,2),y=N[0],S=N[1],C=s.a.useState(!1),E=Object(u.a)(C,2),I=E[0],T=E[1],D=s.a.useState(!1),F=Object(u.a)(D,2),W=F[0],q=F[1],M=s.a.useState([]),R=Object(u.a)(M,2),V=R[0],H=R[1],U=s.a.useState([]),z=Object(u.a)(U,2),$=z[0],X=z[1],Z=s.a.useState(3),ee=Object(u.a)(Z,2),ne=ee[0],le=ee[1],de=s.a.useState(!0),ue=Object(u.a)(de,2),me=ue[0],he=ue[1],je=s.a.useState(!1),be=Object(u.a)(je,2),_e=be[0],pe=be[1],fe=Object(m.h)().pathname,Oe=s.a.useState(!1),ge=Object(u.a)(Oe,2),ve=ge[0],xe=ge[1],we=s.a.useState({}),ke=Object(u.a)(we,2),Ne=ke[0],ye=ke[1],Se=s.a.useState(""),Ce=Object(u.a)(Se,2),Ae=Ce[0],Ee=Ce[1],Ie=s.a.useState(!0),Le=Object(u.a)(Ie,2),Te=Le[0],Be=Le[1],De=s.a.useState(""),Fe=Object(u.a)(De,2),We=Fe[0],Pe=Fe[1],qe=Object(m.g)();function Me(e){ze("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: \n ".concat(e.data.message||e)),console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}function Re(e){var t=""+e.keyword.trim().toLowerCase();if(0===t.length)return ze("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0435 \u0441\u043b\u043e\u0432\u043e."),void q(!1);(function(e){return fetch("https://newsapi.org/v2/everything?q="+e+"&apiKey=918e8c3927a1487bb4a57725910cbd78&from="+ce+"&to="+ae+"&pageSize=100&sortBy=publishedAt",{method:"GET"}).then((function(e){return e.ok?e.json():(new Promise).reject(new Error("".concat("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."," (\u041e\u0448\u0438\u0431\u043a\u0430: ").concat(e.status,")")))}))})(t).then((function(e){if(0!==e.articles.length){var n=L(e.articles,t);H(n),he(!me)}else pe(!0)})).catch((function(e){return console.log(e)})).finally((function(){q(!1)}))}function Ve(e){var t;q(!0),(t=e._id,fetch("".concat(se,"/articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(ie)).then((function(){var t=$.filter((function(t){return t._id!==e._id}));X(t)})).catch((function(e){Me(e)})).finally((function(){q(!1)}))}function He(e,t){Be(e),Pe(t)}function Ue(){h(!1),p(!1),w(!1)}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p(!1),h(!1),S(e),T(t),w(!0)}function Je(){Be(!0),Pe(!0)}function Ge(){Je(),p(!1),w(!1),h(!0)}function Ke(e){"Escape"===e.key&&Ue()}return s.a.useEffect((function(){fetch("".concat(se,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},method:"GET"}).then(ie).then((function(e){ye(e)})).catch((function(e){return console.error(e)}))}),[]),s.a.useEffect((function(){!function(){var e=localStorage.getItem("token");e?oe(e).then((function(e){if(!e.data.email)return(new Promise).reject();ye(e.data),xe(!0)})).catch((function(){return ze("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0442\u043e\u043a\u0435\u043d\u043e\u043c.")})):(H(te),xe(!1),ye({}))}()}),[]),s.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("searchedArticles"))||[];e.length&&H(e)}),[]),s.a.useEffect((function(){localStorage.setItem("searchedArticles",JSON.stringify(V))}),[V]),s.a.useEffect((function(){ve&&(q(!1),fetch("".concat(se,"/articles"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},method:"GET"}).then(ie).then((function(e){var t=e.data.reverse().map((function(e){return Object(l.a)({isSaved:!0},e)}));X(t)})).catch((function(e){return console.error(e)})).finally((function(){q(!1)})))}),[ve]),s.a.useEffect((function(){ve&&qe.push("/")}),[ve]),s.a.useEffect((function(){$.length&&ve?function(){if(V.length){var e=$.map((function(e){return e.link})),t=V.map((function(t){var n=e.includes(t.link),a=n?$.find((function(e){return e.link===t.link})):t;return Object(l.a)(Object(l.a)({},a),{},{isSaved:n})}));H(t)}}():function(){if(V.length){var e=V.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isSaved:!1})}));H(e)}}()}),[$,ve,me]),s.a.useEffect((function(){return window.addEventListener("keydown",Ke),function(){window.removeEventListener("keydown",Ke)}})),s.a.useEffect((function(){function e(e){c(e.target.innerWidth)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(g.Provider,{value:Ne,children:[Object(a.jsx)(v,{loggedIn:ve,pathname:fe,handleLogin:Ge,handleSignOut:function(){localStorage.removeItem("token"),localStorage.removeItem("searchedArticles"),Ee(""),xe(!1),H([]),qe.push("/")},hasOpenPopup:o||_,screenWidth:n,userName:Ae}),Object(a.jsxs)(m.d,{children:[Object(a.jsxs)(m.b,{exact:!0,path:"/",children:[" ",Object(a.jsx)(A,{loggedIn:ve,pathname:fe,articles:V,rowArticles:ne,screenWidth:n,handleShowMoreArticles:function(){le(ne+3)},handleSearchArticles:function(e){H([]),pe(!1),q(!0),le(3),Re(e)},notFound:_e,onAddArticle:function(e){if(localStorage.getItem("token")){var t=$.find((function(t){return t.title===e.title&&t.date===e.date&&t.source===e.source}));t&&-1===e._id.indexOf(e.title)?Ve(t):(q(!0),re(e).then((function(t){e._id=t.data._id,e.isSaved=!0,X([t.data].concat(Object(d.a)($)))})).catch((function(e){Me(e)})).finally((function(){q(!1)})))}},onArticleDelete:Ve,handleArticleRequest:function(e){var t=e.keyword,n=e.title,a=e.text,c=e.date,s=e.source,i=e.link,r=e.image;return re({keyword:t,title:n,text:a,date:c,source:s,link:i,image:r})},onHandleError:Me,handleBookmarkUnsavedClick:function(){return Ge()}})]}),Object(a.jsx)(Q,{exact:!0,path:"/saved-news",component:B,loggedIn:ve,pathname:fe,userName:Ae,articles:$,screenWidth:n,onHandleError:Me,onArticleDelete:Ve})]}),Object(a.jsx)(P,{screenWidth:n}),Object(a.jsx)(J,{name:"login",handleLogin:function(e){var t,n;(t=e.email,n=e.password,fetch("".concat(se,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then(ie)).then((function(e){oe(e.data.token).then((function(t){if(!t.data)return(new Promise).reject();ye(t.data),localStorage.setItem("token",e.data.token),localStorage.setItem("searchedArticles",$),Ee(t.data.name),xe(!0),h(!1),ze("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442!")}))})).catch((function(e){var t="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a";e.data&&(t=e.data.message),He(!1,t)}))},isOpen:o,onClose:Ue,onChangeForm:function(){Je(),h(!1),p(!0)},actionError:We,isActionSuccess:Te}),Object(a.jsx)(G,{name:"register",handleRegister:function(e){var t,n,a;(t=e.email,n=e.password,a=e.name,fetch("".concat(se,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:a})}).then(ie)).then((function(e){if(!e.data.email)return(new Promise).reject();p(!1),ze("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",!0)})).catch((function(e){var t="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a";e.data&&(t=e.data.message?e.data.message:e.data.error),He(!1,t)}))},isOpen:_,onClose:Ue,onChangeForm:Ge,actionError:We,isActionSuccess:Te}),Object(a.jsx)(K,{name:"infoToolLip",isOpen:x,onClose:Ue,message:y,canAuth:I,onChangeForm:Ge}),Object(a.jsx)(Y,{isOpen:W})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(le,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[58,1,2]]]);
//# sourceMappingURL=main.ecd8b2f5.chunk.js.map