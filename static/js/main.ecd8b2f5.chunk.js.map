{"version":3,"sources":["components/Link/Link.js","components/Navigation/Navigation.js","components/Buttons/Button/Button.js","components/Buttons/ButtonMobileMenu/ButtonMobileMenu.js","images/icons/logout-main.svg","components/MobileMenu/MobileMenu.js","images/icons/logout-saved-news.svg","contexts/currentUserContext.js","components/Header/Header.js","components/NoResults/NoResults.js","components/SearchForm/SearchForm.js","images/avatar.jpg","components/About/About.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Main/Main.js","images/navigation-bg.jpg","utils/utils.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","images/icons/github.svg","images/icons/fb_square.svg","images/icons/fb_circle.svg","components/Footer/Footer.js","components/Popups/Overlay/Overlay.js","components/Popups/PopupForm/PopupForm.js","components/Popups/Modal/Modal.js","components/Buttons/CloseButton/CloseButton.js","components/Popups/PopupWithForm/PopupWithForm.js","components/Popups/PopupLabel/PopupLabel.js","utils/validateForm.js","components/Popups/LoginPopup/LoginPopup.js","components/Popups/RegisterPopup/RegisterPopup.js","components/Popups/InfoTooltip/InfoTooltip.js","components/Preloader/Preloader.js","components/ProtectedRoute/ProtectedRoute.js","images/news/image_01.jpg","images/news/image_05.jpg","images/news/image_06.jpg","utils/allNews.js","utils/config.js","utils/mainApi.js","components/App/App.js","utils/newsApi.js","serviceWorker.js","index.js"],"names":["Link","props","navLink","title","className","to","value","linkImage","classNameLink","href","target","rel","src","alt","classNameImage","Navigation","isMenuMobile","main","classNameTextMain","classNameTextSavedNews","loggedIn","Button","onClick","disabled","classNameBtn","image","ButtonMobileMenu","classNameBtnContainer","isOpen","useMobileMenu","MobileMenu","logoutImgMain","handleSignOut","handleLogin","React","createContext","Header","currentUser","useContext","CurrentUserContext","useState","isMobileMenuOpened","setIsMobileMenuOpened","setUseMobileMenu","pathname","mobilePopupOpened","hasOpenPopup","classNameLogo","classNameHeader","logout","logoutImg","logoutImgSavedNews","useEffect","screenWidth","handleOverlayClose","evt","classList","contains","document","addEventListener","removeEventListener","handleEsc","key","window","name","NoResults","SearchForm","keyword","values","setValues","placeholder","type","required","onChange","autoComplete","preventDefault","handleSearchArticles","About","avatar_img","NewsCard","card","tooltip","iconSave","onAddArticle","onArticleDelete","handleArticleRequest","onHandleError","handleBookmarkUnsavedClick","makeTitle","str","strLength","length","slice","isSaved","link","date","text","source","NewsCardList","articles","rowArticles","map","i","handleShowMoreArticles","Main","notFound","convertDate","newDate","Date","toLocaleString","day","month","getFullYear","converter","array","article","description","publishedAt","url","urlToImage","_id","defaultImg","convertArticle","SavedNewsHeader","number","savedText","keywords","art","reduce","acc","undefined","sortedKey","Object","keys","reverse","sort","a","b","item","span","showKeywords","SavedNews","Footer","iconGithub","iconFacebookCircle","iconFacebookSquare","Overlay","children","e","currentTarget","PopupForm","onSubmit","noValidate","Modal","CloseButton","PopupWithForm","onClose","isActionSuccess","register","actionError","anyInputInvalid","isDisabled","formButtonText","onChangeForm","login","PopupLabel","label","minLength","maxLength","isValid","error","validateForm","errors","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleInputChange","validationMessage","closest","checkValidity","LoginPopup","id","email","password","RegisterPopup","handleRegister","InfoTooltip","canAuth","message","Preloader","ProtectedRoute","Component","component","image_06","owner","image_01","image_05","options","year","data_to","Intl","DateTimeFormat","format","now","data_from","baseUrl","location","protocol","process","REACT_APP_API_URL","checkResponce","res","Promise","resolve","reject","func","status","json","then","data","addNewArticle","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","getContent","token","Accept","App","innerWidth","setScreenWidth","isLoginPopupOpen","setIsLoginPopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","tooltipMessage","setTooltipMessage","tooltipCanAuth","setTooltipCanAuth","isPreloaderOpen","setIsPreloaderOpen","searchArticlesArray","setSearchArticlesArray","savedArticlesArray","setSavedArticlesArray","setRowArticles","searchMarker","setSearchMarker","setNotFound","useLocation","setLoggedIn","setCurrentUser","userName","setUserName","setIsActionSuccess","setActionError","history","useHistory","handleError","err","handleInfoTooltipOpen","console","log","getArticlesFromAPI","searchWord","trim","toLowerCase","news_api_url","ok","Error","searchArticles","convertArticles","catch","finally","handleArticleDelete","newArticles","filter","onSetErrorStatus","closeAllPopups","deleteActionError","handleLoginPopupOpen","initialUserInfo","tokenCheck","parse","setItem","initialArticleList","articleList","push","savedLinks","markedArticles","includes","saved","find","checkSavedArticles","clearIsSavedOnLogout","changeScreenSize","Provider","removeItem","exact","path","indexOf","newArticle","userData","user","errMessage","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ecd8b2f5.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Link.css';\r\n\r\nfunction Link(props) {\r\n  function linkFunction() {\r\n    if (props.navLink) { // если навигация\r\n      return (\r\n        <NavLink\r\n          title={props.title}\r\n          className={`link ${props.className}`}\r\n          to={props.to}\r\n        >\r\n          {props.value}\r\n        </NavLink>\r\n      );\r\n    }\r\n    if (props.linkImage) { // --> если ссылка с картинкой и просто ссылка\r\n      return (\r\n        <a\r\n          title={props.title}\r\n          className={`link ${props.classNameLink}`}\r\n          href={props.href}\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n\r\n        >\r\n          <img\r\n            src={props.src}\r\n            alt={props.alt}\r\n            className={props.classNameImage}\r\n          />\r\n        </a>);\r\n    } // <-- если ссылка с картинкой и просто ссылка\r\n    return (\r\n      <a\r\n        title={props.title}\r\n        className={`link ${props.className}`}\r\n        href={props.href}\r\n        target='_blank'\r\n        rel='noopener noreferrer'\r\n      >\r\n        {props.value}\r\n      </a>);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {linkFunction()}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Link;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Link from '../Link/Link';\r\n\r\nimport './Navigation.css';\r\n\r\nfunction Navigation(props) {\r\n  const isMenuMobile = props.isMenuMobile;\r\n // const main = (props.main || isMenuMobile);\r\n  const main = props.main;\r\n  const classNameTextMain = `nav__text ${isMenuMobile ? 'nav__text_mobile' : (main ? 'nav__text_selected': 'nav__text_saved-news')}`;\r\n  const classNameTextSavedNews = `nav__text  ${isMenuMobile ? 'nav__text_mobile' : (main ? '' : 'nav__text_saved-news nav__text_selected-saved-news')}`;\r\n\r\n  return (\r\n    <nav className='nav'>\r\n      <ul className={`nav__list ${isMenuMobile ? 'nav__list_mobile' : ''}`}>\r\n        <li className='nav__item'>\r\n          <Link navLink={true} title='Перейти на страницу с поиском' to='/'\r\n            className={classNameTextMain}\r\n            value='Главная' />\r\n        </li>\r\n        {props.loggedIn &&\r\n          <li className='nav__item'>\r\n          <Link navLink={true} title='Перейти на страницу с сохраненными статьями' to='/saved-news'\r\n            className={classNameTextSavedNews}\r\n            value='Сохраненные статьи' />\r\n        </li>\r\n        }\r\n    </ul>\r\n      </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport './Button.css';\r\n\r\nconst Button = (props) => {\r\n\r\n  return (\r\n\r\n    <button\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n      className={`button ${props.className}`}>\r\n      <span className={`button__text button__text_type_${props.classNameBtn}`}>{props.title}</span>\r\n      {props.image && <img className={`button__img button__img_type_${props.classNameBtn}`} src={props.src} alt={props.alt}/>}\r\n      </button>\r\n\r\n  );\r\n\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\n\r\nimport './ButtonMobileMenu.css';\r\n\r\nconst ButtonMobileMenu = (props) => {\r\n  const classNameBtnContainer = props.main ? 'btn-mobile-menu__container' : 'btn-mobile-menu__container_saved-news';\r\n  const classNameBtn = `btn-mobile-menu__button ${props.isOpen ? 'btn-mobile-menu__button_type_close' : props.main ? 'btn-mobile-menu__button_type_main' : 'btn-mobile-menu__button_type_saved-news'}`;\r\n\r\n  return (\r\n    <>\r\n      {props.useMobileMenu && (\r\n        <div className={classNameBtnContainer}>\r\n          <button\r\n            onClick={props.onClick}\r\n            className={classNameBtn}>\r\n\r\n          </button>\r\n        </div>\r\n      )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ButtonMobileMenu;","export default __webpack_public_path__ + \"static/media/logout-main.d9c014d5.svg\";","import React from 'react';\r\n\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Button from '../Buttons/Button/Button';\r\nimport logoutImgMain from '../../images/icons/logout-main.svg';\r\nimport './MobileMenu.css';\r\n\r\nconst MobileMenu = (props) => {\r\n  return (\r\n\r\n    <div className='mobile-menu mobile-menu_opened'>\r\n      <div className='mobile-menu__container'>\r\n        <Navigation loggedIn={props.loggedIn} main={props.main} isMenuMobile={true} />\r\n\r\n        {props.loggedIn ? (\r\n          <Button\r\n            classNameBtn='mobile'\r\n            className={`button_type_mobile`}\r\n            image={true}\r\n            title='Грета'\r\n            src={logoutImgMain}\r\n            alt='Выход'\r\n            onClick={props.handleSignOut}\r\n          />\r\n        ) : (\r\n            <Button\r\n              classNameBtn='mobile'\r\n              className='button_type_mobile'\r\n              image={false}\r\n              title='Авторизоваться'\r\n              onClick={props.handleLogin}\r\n            />\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nexport default MobileMenu;","export default __webpack_public_path__ + \"static/media/logout-saved-news.a684646e.svg\";","import React from 'react';\n\nexport default React.createContext();\n","import React from 'react';\nimport Link from '../Link/Link';\nimport Navigation from '../Navigation/Navigation';\nimport Button from '../Buttons/Button/Button';\nimport ButtonMobileMenu from '../Buttons/ButtonMobileMenu/ButtonMobileMenu';\nimport MobileMenu from '../MobileMenu/MobileMenu';\nimport logoutImgMain from '../../images/icons/logout-main.svg';\nimport logoutImgSavedNews from '../../images/icons/logout-saved-news.svg';\nimport CurrentUserContext from '../../contexts/currentUserContext';\n\nimport './Header.css';\n\nfunction Header(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [isMobileMenuOpened, setIsMobileMenuOpened] = React.useState(false);\n  const [useMobileMenu, setUseMobileMenu] = React.useState(false);\n  const main = (props.pathname === '/' || isMobileMenuOpened);\n  const mobilePopupOpened = isMobileMenuOpened && props.hasOpenPopup && main;\n  const classNameLogo = `header__logo ${main ? '' : 'header__logo_saved-news'}`;\n\n  // изменяем background в зависимости от состояния страницы и попапов\n  let classNameHeader = 'header page__header';\n  if (isMobileMenuOpened) {\n    if (props.hasOpenPopup) {\n      classNameHeader += `${main ? ' header_type_bg' : ' header_type_saved-news'}`;\n\n    } else {\n      classNameHeader += `${main ? ' header_type_one-colour' : ' header_type_saved-news'}`;\n    }\n  } else {\n    classNameHeader += `${main ? ' header_type_bg' : ' header_type_saved-news'}`;\n  }\n  const logout = main ? 'logout-main' : 'logout-saves-news';\n  const logoutImg = main ? logoutImgMain : logoutImgSavedNews\n\n  function toggleMenu() {\n    setIsMobileMenuOpened(!isMobileMenuOpened);\n  }\n\n  //изменяем статус меню в зависимости от размеров экрана\n  React.useEffect(() => {\n    if (props.screenWidth <= 620) {\n      setUseMobileMenu(true);\n    }\n    else {\n      setUseMobileMenu(false);\n      setIsMobileMenuOpened(false);\n    }\n  }, [props.screenWidth]);\n\n\n  //закрытие моб. меню щелчком вне формы\n  React.useEffect(() => {\n    const handleOverlayClose = (evt) => {\n      if (evt.target.classList.contains('mobile-menu_opened')) {\n        setIsMobileMenuOpened(false);\n      }\n    }\n    document.addEventListener('mousedown', handleOverlayClose);\n    return () => document.removeEventListener('mousedown', handleOverlayClose);\n  }, []);\n\n  //закрытие моб. меню по клавише 'Escape'\n  React.useEffect(() => {\n    const handleEsc = (evt) => {\n      if (evt.key === 'Escape') {\n        setIsMobileMenuOpened(false);\n      }\n    }\n    window.addEventListener('keydown', handleEsc);\n    return () => window.removeEventListener('keydown', handleEsc);\n  }, []);\n\n  return (\n    <header className={classNameHeader}>\n      <div className='header__container'>\n        <span className={`header__border ${main ? '' : 'header__border_saved-news'}`} />\n        <Link navLink={true} title='Перейти на страницу с поиском' to='/'\n          className={classNameLogo}\n          value={`${mobilePopupOpened ? '' : 'NewsExplorer'}`} />\n\n        <div className='header__menu'>\n          <Navigation loggedIn={props.loggedIn} main={main} />\n\n          {props.loggedIn ? (\n            <Button\n              classNameBtn={logout}\n              className={`button_type_${logout}`}\n              image={true}\n              title={currentUser.name || 'Пользователь'}\n              src={logoutImg}\n              alt='Выход'\n              onClick={props.handleSignOut}\n            />\n          ) : (\n              <Button\n                classNameBtn='auth'\n                className='button_type_auth'\n                image={false}\n                title='Авторизоваться'\n                onClick={props.handleLogin}\n              />\n            )\n          }\n        </div>\n        <ButtonMobileMenu\n          main={main}\n          isOpen={isMobileMenuOpened}\n          useMobileMenu={useMobileMenu}\n          onClick={toggleMenu}\n        />\n      </div>\n      {isMobileMenuOpened && <MobileMenu\n        isOpen={isMobileMenuOpened}\n        loggedIn={props.loggedIn}\n        main={main}\n        handleLogin={props.handleLogin}\n        handleSignOut={props.handleSignOut}\n      />}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nimport './NoResults.css';\r\n\r\nfunction NoResults() {\r\n    return (\r\n      <section className='no-results'>\r\n        <div className='no-results__container'>\r\n        <div className='no-results__img'></div>\r\n        <h3 className='no-results__title'>Ничего не найдено</h3>\r\n          <p className='no-results__subtitle'>К сожалению по вашему запросу ничего не найдено.</p>\r\n        </div>\r\n      </section>\r\n  );\r\n}\r\n\r\nexport default NoResults;\r\n","import React from 'react';\nimport Button from '../Buttons/Button/Button';\n\n\nimport './SearchForm.css';\n\nfunction SearchForm(props) {\n  const [values, setValues] = React.useState({\n    keyword: '',\n  });\n\n  function handleValueInputSearchChange(evt) {\n    const { name, value } = evt.target;\n    setValues({ ...values, [name]: value });\n\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleSearchArticles(values);\n  }\n\n  return (\n    <section className='search-form'>\n      <div className='search-form__container'>\n        <h1 className='search-form__title'>Что творится в мире?</h1>\n        <p className='search-form__subtitle'>Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n        <div className='search-form__input-container'>\n          <input className='search-form__input' placeholder='Введите тему новости'\n            type='text'\n            name='keyword'\n            required={true}\n            value={values.keyword}\n            onChange={handleValueInputSearchChange}\n            autoComplete='off'\n          >\n          </input>\n          <Button\n            classNameBtn='search-form'\n            className='button_type_search-form button_type_link'\n            type='submit'\n            image={false}\n            title='Искать'\n            onClick={handleSubmit}\n          />\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default SearchForm;","export default __webpack_public_path__ + \"static/media/avatar.65820a12.jpg\";","import React from 'react';\r\n// import CurrentUserContext from '../contexts/currentUserContext';\r\nimport avatar_img from '../../images/avatar.jpg';\r\nimport './About.css';\r\n\r\nconst About = () => {\r\n  // const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <section className='about'>\r\n      <div className='about__container'>\r\n        <img className='about__avatar' src={avatar_img} alt='аватар автора' />\r\n        <div className='about__description-container'>\r\n        <p className='about__title'>Об авторе</p>\r\n        <p className='about__paragraf'>Это блок с описанием автора проекта. Здесь следует указать, как вас зовут, чем вы занимаетесь, какими технологиями разработки владеете.</p>\r\n          <p className='about__paragraf'>Также можно рассказать о процессе обучения в Практикуме, чему вы тут научились, и чем можете помочь потенциальным заказчикам.</p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n\r\n};\r\n\r\nexport default About;","import React from 'react';\n// import CurrentUserContext from '../contexts/currentUserContext';\n\nimport './NewsCard.css';\n\nconst NewsCard = ({ card, tooltip, iconSave, loggedIn, onAddArticle, handleArticleRequest, onHandleError, onArticleDelete, handleBookmarkUnsavedClick, screenWidth }) => {\n  // const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSavedMark() {\n    if (!loggedIn) {\n      handleBookmarkUnsavedClick();\n    }\n    if (card.isSaved) {\n      onArticleDelete(card);\n    } else {\n      onAddArticle(card);\n    }\n  }\n\n  function handleDeleteClick() {\n    onArticleDelete(card);\n      }\n\n  function makeTitle(str, title = true) {\n    let strLength = 146;\n    if (title) {\n      if (screenWidth > 800) {\n        strLength = 60;\n      } else if (screenWidth <= 800 && screenWidth > 500) {\n        strLength = 40;\n      } else {\n        strLength = 30;\n      }\n    } else {\n      if (screenWidth <= 800 && screenWidth > 500) {\n        strLength = 70;\n      } else if (screenWidth <= 500) {\n        strLength = 75;\n      }\n    }\n    return (str.length <= strLength ? str : `${str.slice(0, strLength)}...`);\n  }\n\n  return (\n    < li className='news-card'>\n      { iconSave\n        ? (\n          <button type='button' className={`news-card__btn ${card.isSaved ? 'news-card__btn_type_save-marked' : 'news-card__btn_type_save'}`} onClick={handleSavedMark}></button>\n        )\n        : (\n          <button type='button' className='news-card__btn news-card__btn_type_trash' onClick={handleDeleteClick}></button>\n        )\n      }\n      <div className={`news-card__tooltip ${loggedIn ? '' : 'news-card__tooltip_not-loggedin'}`}>{tooltip}</div>\n      {!iconSave && <div className='news-card__keyword-container'>{card.keyword}</div>}\n      <a className='news-card__link' href={card.link} target='_blank' rel='noopener noreferrer'>\n        <img className='news-card__img' src={card.image} alt={card.title} />\n        <div className='news-card__info'>\n          <p className='news-card__date'>{card.date}</p>\n          <h3 className='news-card__title'>{makeTitle(card.title)}</h3>\n          <p className='news-card__text'>{makeTitle(card.text, false)}</p>\n        </div>\n        <p className='news-card__source'>{card.source}</p>\n\n      </a>\n    </li>\n  );\n\n};\n\nexport default NewsCard;\n","import React from 'react';\n// import CurrentUserContext from '../contexts/currentUserContext';\nimport NewsCard from '../NewsCard/NewsCard';\nimport Button from '../Buttons/Button/Button';\n\nimport './NewsCardList.css';\n\nfunction NewsCardList(props) {\n  // const currentUser = React.useContext(CurrentUserContext);\n  let main = true;\n  let tooltip = 'Войдите, чтобы сохранять статьи';\n  let iconSave = true;\n  if (props.pathname === '/saved-news') {\n    tooltip = 'Убрать из сохраненных';\n    iconSave = false;\n    main = false;\n  }\n\n  return (\n    <section className='news-cards page__news-cards'>\n      <div className='news-cards__container'>\n        {main ? <>\n          <p className='news-cards__title'>Результаты поиска</p>\n          <ul className='news-cards__list'>\n            {props.articles.slice(0, props.rowArticles).map((card, i) => <NewsCard\n              key={i} card={card} tooltip={tooltip} iconSave={iconSave}\n              onAddArticle={props.onAddArticle}\n              onArticleDelete={props.onArticleDelete}\n              loggedIn={props.loggedIn}\n              handleArticleRequest={props.handleArticleRequest}\n              onHandleError={props.onHandleError}\n              handleBookmarkUnsavedClick={props.handleBookmarkUnsavedClick}\n              screenWidth={props.screenWidth}/>)}\n          </ul>\n\n          <div className='news-cards__btn-position'>\n            {(props.articles.length - props.rowArticles > 0) && <Button\n              classNameBtn='more-results'\n              className='button_type_more-results'\n              image={false}\n              title='Показать еще'\n              onClick={props.handleShowMoreArticles}\n            />\n            }\n          </div>\n\n\n        </> :\n          <ul className='news-cards__list'>\n            {props.articles.map((card, i) => <NewsCard key={i} card={card}\n              tooltip={tooltip} iconSave={iconSave}\n              onArticleDelete={props.onArticleDelete}/>)}\n          </ul>\n        }\n      </div>\n    </section>\n  );\n}\n\nexport default NewsCardList;","import React from 'react';\n// import CurrentUserContext from '../contexts/currentUserContext';\nimport NoResults from '../NoResults/NoResults';\nimport SearchForm from '../SearchForm/SearchForm';\nimport About from '../About/About';\nimport NewsCardList from '../NewsCardList/NewsCardList';\n\nfunction Main(props) {\n      return (\n      <main className='main'>\n        <SearchForm handleSearchArticles={props.handleSearchArticles} />\n        {props.notFound && <NoResults />}\n          {props.articles.length !== 0 && <NewsCardList\n            loggedIn={props.loggedIn}\n            pathname={props.pathname}\n            articles={props.articles}\n            rowArticles={props.rowArticles}\n            screenWidth={props.screenWidth}\n            handleShowMoreArticles={props.handleShowMoreArticles}\n            onAddArticle={props.onAddArticle}\n            onArticleDelete={props.onArticleDelete}\n            handleArticleRequest={props.handleArticleRequest}\n            onHandleError={props.onHandleError}\n            handleBookmarkUnsavedClick={props.handleBookmarkUnsavedClick}\n        />}\n        <About />\n      </main>\n    );\n  }\n\n  export default Main;\n","export default __webpack_public_path__ + \"static/media/navigation-bg.61ff31f6.jpg\";","import defaultImg from '../images/navigation-bg.jpg';\n\nexport function declOfNum(number, titles) {\n  const cases = [2, 0, 1, 1, 1, 2];\n  return titles[(number % 100 > 4 && number % 100 < 20)\n    ? 2\n    : cases[(number % 10 < 5)\n      ? number % 10\n      : 5]];\n}\n\nfunction convertDate(date) {\n  const newDate = new Date(date);\n  const fullDate = `${newDate.toLocaleString('ru', {\n    day: 'numeric',\n    month: 'long',\n  })}, ${newDate.getFullYear()}`;\n  return fullDate;\n};\n\nfunction convertArticle(article, keyword = '') {\n  const { title, description, publishedAt, source, url, urlToImage } = article;\n  const articleConverted = {\n    _id: `${url}/${publishedAt}`,\n    isSaved: false,\n    keyword,\n    title,\n    text: description || '',\n    date: convertDate(publishedAt) || '',\n    source: source.name || '',\n    link: url,\n    image: urlToImage || defaultImg,\n  };\n  return articleConverted;\n}\n\nexport function converter(array, keyword) {\n  const newArray = array.map(article => convertArticle(article, keyword));\n  return newArray;\n}","import React from 'react';\nimport CurrentUserContext from '../../contexts/currentUserContext';\nimport { declOfNum } from '../../utils/utils.js';\nimport './SavedNewsHeader.css';\n\nconst SavedNewsHeader = (props) => {\n  const currentUser = React.useContext(CurrentUserContext);\n    const savedText = declOfNum(props.articles.length,\n    ['сохранённая статья', 'сохранённые статьи', 'сохранённых статей']);\n\n  function showKeywords() {\n    let result = '';\n\n    const keywords = props.articles.map(art => art.keyword).reduce((acc, key) => {\n      acc[key] = acc[key] === undefined ? 1 : acc[key] += 1;\n      return acc;\n    }, {});\n\n    const sortedKey = Object.keys(keywords).reverse()\n      .map((key) => [key, keywords[key]])\n      .sort((a, b) => b[1] - a[1])\n      .map((item) => item[0]);\n\n    if (sortedKey.length === 1) {\n      result = <span className='saved-news-header__text-span'>{sortedKey[0]}</span>;\n    } else if (sortedKey.length === 2) {\n      result = <>\n        <span className='saved-news-header__text-span'>{sortedKey[0]}</span>\n        &nbsp;и&nbsp;\n        <span className='saved-news-header__text-span'>{sortedKey[1]}</span>\n      </>;\n    } else if (sortedKey.length === 3) {\n      result = <>\n        <span className='saved-news-header__text-span'>{sortedKey[0]}</span>\n        &nbsp;,&nbsp;\n        <span className='saved-news-header__text-span'>{sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span className='saved-news-header__text-span'>{sortedKey[2]}</span>\n      </>;\n    } else {\n      result = <>\n        <span className='saved-news-header__text-span'>{sortedKey[0]}, {sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span span className='saved-news-header__text-span' > {sortedKey.length - 2}-м другим</span>\n      </>;\n    }\n    return result;\n  }\n\n  return (\n    <section className='saved-news-header'>\n      <h2 className='saved-news-header__title'>Сохранённые статьи</h2>\n      <p className='saved-news-header__subtitle'>{`${currentUser.name}, у Вас ${props.articles.length === 0 ? 'ещё нет' : props.articles.length} ${savedText}`}</p>\n      {props.articles.length !== 0\n        && <p className='saved-news-header__text'>\n        По ключевым словам:&nbsp;{showKeywords()}\n      </p>\n      }\n    </section>\n  );\n\n};\n\nexport default SavedNewsHeader;","import React from 'react';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport NewsCardList from '../NewsCardList/NewsCardList';\n\n\nconst SavedNews = (props) => {\n  return (\n    <main>\n      <SavedNewsHeader articles={props.articles}/>\n      <NewsCardList pathname={props.pathname} articles={props.articles}\n        screenWidth={props.screenWidth} onHandleError={props.onHandleError}\n        onArticleDelete={props.onArticleDelete}\n        handleBookmarkUnsavedClick={props.handleBookmarkUnsavedClick}/>\n    </main>\n  );\n};\n\nexport default SavedNews;","export default __webpack_public_path__ + \"static/media/github.0719b4bc.svg\";","export default __webpack_public_path__ + \"static/media/fb_square.3f662df3.svg\";","export default __webpack_public_path__ + \"static/media/fb_circle.fe55b6ce.svg\";","import React from 'react';\r\n\r\nimport Link from '../Link/Link';\r\nimport iconGithub from '../../images/icons/github.svg';\r\nimport iconFacebookSquare from '../../images/icons/fb_square.svg';\r\nimport iconFacebookCircle from '../../images/icons/fb_circle.svg';\r\nimport './Footer.css';\r\n\r\nfunction Footer({ screenWidth}) {\r\n  return (\r\n    <footer className='footer page__footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Supersite, Powered by News API</p>\r\n      <div className='footer__menu'>\r\n        <ul className='footer__list footer__list_'>\r\n          <li className='footer__item'>\r\n           <Link navLink={true} title='Перейти на Главную' className='footer__link' to='/' value='Главная' />\r\n          </li>\r\n          <li className='footer__item'>\r\n            <Link\r\n              title='Открыть сайт Яндекс.Практикума в новом окне'\r\n              href='https://praktikum.yandex.ru'\r\n              className='footer__link' to='/' value='Яндекс.Практикум' />\r\n          </li>\r\n        </ul>\r\n\r\n        <ul className='footer__list  footer__list_social-icon'>\r\n          <li className='footer__item'>\r\n            <Link linkImage={true}\r\n              title='Открыть сайт Github в новом окне'\r\n              href='https://github.com/janenick'\r\n              className='footer__link' to='/'\r\n              src={iconGithub} alt='Github'/>\r\n          </li>\r\n          <li className='footer__item'>\r\n            <Link linkImage={true}\r\n              title='Открыть сайт Facebook в новом окне'\r\n              href='https://www.facebook.com'\r\n              className='footer__link' to='/'\r\n              src={(screenWidth <= 800 && screenWidth > 500) ? iconFacebookCircle : iconFacebookSquare} alt='Facebook' />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nimport './Overlay.css';\r\n\r\nconst Overlay = ({ isOpen, onClick, children }) => {\r\n  const overlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`overlay overlay_visible_${isOpen}`} onClick={overlayClick}>{children}</div>\r\n  );\r\n};\r\n\r\nexport default Overlay;","import React from 'react';\r\nimport './PopupForm.css';\r\n\r\nfunction PopupForm({ name, title, onSubmit, children }) {\r\n\r\n  return (\r\n      <form name={`popup__form-${name}`} onSubmit={onSubmit} className='popup__form' noValidate>\r\n        <h2 className='popup__title'>{title}</h2>\r\n      {children}\r\n\r\n      </form>\r\n  );\r\n}\r\n\r\nexport default PopupForm;","import React from 'react';\r\n\r\nimport './Modal.css';\r\n\r\nconst Modal = ({ isOpen, children }) => (\r\n  <div className={`modal modal_visible_${isOpen}`}>{children}</div>\r\n);\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nimport './CloseButton.css';\r\n\r\nconst CloseButton = ({ onClick }) => (\r\n  <button onClick={onClick} title='Закрыть' className='close-btn'>\r\n  </button>\r\n);\r\n\r\nexport default CloseButton;","import React from 'react';\nimport Overlay from '../Overlay/Overlay';\nimport PopupForm from '../PopupForm/PopupForm';\nimport Modal from '../Modal/Modal';\nimport { CloseButton, Button } from '../../Buttons/index';\n\nimport './PopupWithForm.css';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <Overlay isOpen={props.isOpen} onClick={props.onClose }>\n      <Modal isOpen={props.isOpen}>\n        <CloseButton title='Закрыть' onClick={props.onClose} />\n        <PopupForm\n          name={props.name}\n          title={props.title}\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n\n          {!props.isActionSuccess && <span className={`popup__error ${props.register ? '' : 'popup__error_login'} `}>{props.actionError}</span>}\n            <Button\n            disabled={props.anyInputInvalid}\n            type='submit'\n            classNameBtn={props.isDisabled ? 'disabled' : 'popup'}\n            className={props.isDisabled ? 'button_type_disabled' : 'button_type_popup button_type_link'}\n            title={props.formButtonText} />\n\n          <p className='popup__action-text'>или <span className='popup__link popup__action-text' onClick={props.onChangeForm}>{props.login ? 'Зарегистрироваться' : 'Войти'}</span></p>\n        </PopupForm>\n      </Modal>\n    </Overlay>\n\n  );\n\n}\n\nexport default PopupWithForm;\n","import React from 'react';\r\nimport './PopupLabel.css';\r\n\r\nfunction PopupLabel(props) {\r\n  return (\r\n    <label className='popup__label'>{props.label}\r\n      <input name={props.name}\r\n        value={props.value || ''}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={props.onChange}\r\n        className='popup__input'\r\n        required={props.required}\r\n        minLength={props.minLength}\r\n        maxLength={props.maxLength}/>\r\n      <span className={!props.isValid ? 'popup__input-error' : ''}> {props.error || ''}</span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default PopupLabel;","import React from 'react';\r\n\r\nfunction validateForm() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleInputChange = (evt) => {\r\n    const { target } = evt;\r\n    const { value } = target;\r\n    const { name } = target;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = React.useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid],\r\n  );\r\n\r\n  return {\r\n    values, handleInputChange, errors, isValid, setIsValid, resetForm,\r\n  };\r\n}\r\n\r\nexport default validateForm;\r\n","import React, { useEffect, useState } from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport PopupLabel from '../PopupLabel/PopupLabel';\nimport validateForm from '../../../utils/validateForm';\n\nfunction LoginPopup({ handleLogin, isOpen, onClose, onChangeForm, actionError, isActionSuccess }) {\n\n  const {\n    values, handleInputChange, errors, isValid, resetForm,\n  } = validateForm();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(values);\n  };\n\n  return (\n\n    <PopupWithForm\n      login={true}\n      actionError={actionError}\n      isActionSuccess={isActionSuccess}\n      name='login'\n      title='Вход'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleFormSubmit}\n      onChangeForm={onChangeForm}\n      isDisabled={!isValid}\n      formButtonText='Войти'\n    >\n      <PopupLabel\n        label='E-mail'\n        id='email' required\n        error={errors.email}\n        value={values.email || ''}\n        name='email'\n        type='email'\n        placeholder='Введите почту'\n        onChange={handleInputChange}\n        noValidate\n      >\n      </PopupLabel>\n      <PopupLabel\n        label='Пароль'\n        id='email' required\n        error={errors.password}\n        value={values.password || ''}\n        name='password'\n        type='password'\n        placeholder='Введите пароль'\n        onChange={handleInputChange}\n        noValidate\n        minLength='8'\n        maxLength='30'\n      >\n      </PopupLabel>\n    </PopupWithForm>\n\n  );\n}\n\nexport default LoginPopup;\n\n","import React, { useEffect, useState } from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport PopupLabel from '../PopupLabel/PopupLabel';\nimport validateForm from '../../../utils/validateForm';\n\nfunction RegisterPopup({ handleRegister, isOpen, onClose, onChangeForm, actionError, isActionSuccess }) {\n\n  const {\n    values, handleInputChange, errors, isValid, resetForm,\n  } = validateForm();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    handleRegister(values);\n  };\n\n  return (\n\n    <PopupWithForm\n      register={true}\n      actionError={actionError}\n      isActionSuccess={isActionSuccess}\n      name='register'\n      title='Регистрация'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleFormSubmit}\n      onChangeForm={onChangeForm}\n      isDisabled={!isValid}\n      formButtonText='Зарегистрироваться'\n    >\n      <PopupLabel\n        label='E-mail'\n        id='email' required\n        error={errors.email}\n        value={values.email}\n        name='email'\n        type='email'\n        placeholder='Введите почту'\n        onChange={handleInputChange}\n        noValidate\n      >\n      </PopupLabel>\n      <PopupLabel\n        label='Пароль'\n        id='email' required\n        error={errors.password}\n        value={values.password || ''}\n        name='password'\n        type='password'\n        placeholder='Введите пароль'\n        onChange={handleInputChange}\n        noValidate\n        minLength='8'\n        maxLength='30'\n      >\n      </PopupLabel>\n      <PopupLabel\n        label='Имя'\n        id='name' required\n        error={errors.name}\n        value={values.name || ''}\n        name='name'\n        type='text'\n        placeholder='Введите своё имя'\n        onChange={handleInputChange}\n        noValidate\n        minLength='2'\n        maxLength='30'\n      >\n      </PopupLabel>\n    </PopupWithForm>\n\n  );\n\n}\n\nexport default RegisterPopup;","import React from 'react';\r\n\r\nimport Overlay from '../Overlay/Overlay';\r\nimport Modal from '../Modal/Modal';\r\nimport { CloseButton } from '../../Buttons/index';\r\n\r\nimport './InfoTooltip.css';\r\n\r\nfunction InfoTooltip({\r\n  isOpen, onClose, canAuth, message, onChangeForm\r\n}) {\r\n\r\n  return (\r\n\r\n    <Overlay isOpen={isOpen} onClick={onClose}>\r\n      <Modal isOpen={isOpen}>\r\n        <CloseButton title='Закрыть' onClick={onClose} />\r\n\r\n        <p className='info-tooltip__text'>{message}</p>\r\n        {canAuth && <p className='info-tooltip__link' onClick={onChangeForm}>Войти</p>}\r\n      </Modal>\r\n    </Overlay>\r\n  );\r\n\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from 'react';\r\n\r\nimport Overlay from '../Popups/Overlay/Overlay';\r\n\r\nimport './Preloader.css';\r\n\r\nfunction Preloader({ isOpen }) {\r\n\r\n  return (\r\n    <Overlay isOpen={isOpen}>\r\n\r\n      <div className='preloader__container'>\r\n        <div className='preloader__circle'></div>\r\n        <p className='preloader__title'>Ищем новости...</p>\r\n      </div>\r\n    </Overlay>\r\n  );\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./\" />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/image_01.9d234ce5.jpg\";","export default __webpack_public_path__ + \"static/media/image_05.bf0279d6.jpg\";","export default __webpack_public_path__ + \"static/media/image_06.ae945385.jpg\";","import image_01 from '../images/news/image_01.jpg';\nimport image_05 from '../images/news/image_05.jpg';\nimport image_06 from '../images/news/image_06.jpg';\n\nconst articles = [\n  {\n    keyword: 'Тайга',\n    title: 'Национальное достояние – парки',\n    text: 'В 2016 году Америка отмечала важный юбилей: 1234',\n    date: '2 августа, 2019',\n    source: 'Дзен',\n    link: 'https://nat-geo.ru/nature/natsionalnoe-dostoyanie-parki/',\n    image: image_06,\n    owner: '123'\n  },\n  {\n    keyword: 'Природа',\n    title: 'Национальное достояние – парки',\n    text: 'В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков – охраняемых территорий, где и сегодня каждый может приобщиться к природе. 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 ',\n    date: '2 августа, 2019',\n    source: 'Дзен',\n    link: 'https://nat-geo.ru/nature/natsionalnoe-dostoyanie-parki/',\n    image: image_06,\n    owner: '123'\n  },\n  {\n    keyword: 'Природа',\n    title: 'Лесные огоньки: история одной фотографии',\n    text: 'Фотограф отвлеклась от освещения суровой политической реальности Мексики, чтобы запечатлеть ускользающую красоту одного из местных чудес природы.',\n    date: '2 августа, 2019',\n    source: 'Афиша',\n    link: 'https://nat-geo.ru/nature/lesnye-ogonki-istoriya-odnoj-fotografii/',\n    image: image_01,\n    owner: '123'\n  },\n  {\n    keyword: 'Тайга',\n    title: '«Первозданная тайга»: новый фотопроект Игоря Шпиленка дальше будет очень много слов. Надо бы их обрезать и поставить многоточие.',\n    text: 'Знаменитый фотограф снимает первозданные леса России, чтобы рассказать о необходимости их сохранения. В этот раз он отправился в Двинско-Пинежскую тайгу, где 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 1234 6789 ',\n    date: '2 августа, 2019',\n    source: 'Медиазона',\n    link: '#',\n    image: image_05,\n    owner: '123'\n  },\n  {\n    keyword: 'Парки',\n    title: 'Национальное достояние – парки',\n    text: 'В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков – охраняемых территорий, где и сегодня каждый может приобщиться к природе.',\n    date: '2 августа, 2019',\n    source: 'Дзен',\n    link: '#',\n    image: image_06,\n    owner: '123'\n  },\n  {\n    keyword: 'Фотография',\n    title: 'Лесные огоньки: история одной фотографии',\n    text: 'Фотограф отвлеклась от освещения суровой политической реальности Мексики, чтобы запечатлеть ускользающую красоту одного из местных чудес природы.',\n    date: '2 августа, 2019',\n    source: 'Афиша',\n    link: '#',\n    image: image_01,\n    owner: '123'\n  },\n];\n\nexport default articles;","export const news_api_url = 'https://newsapi.org/v2/everything';\nexport const news_api_key = '918e8c3927a1487bb4a57725910cbd78';\nexport const pageSize = 100; // макс. допустимое кол-во статей\nexport const news_search_error = 'Не удалось получить доступ к серверу новостей. Попробуйте еще раз.';\n\n// дата (запросы к newsapi за 7 дней от текущей даты)\nconst locales = 'sv'; // 2021-01-31\nconst options = { year: 'numeric', month: '2-digit', day: '2-digit' };\nconst week = 7 * 24 * 60 * 60 * 1000; // 7 дней\n\nexport const data_to = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now());\n\nexport const data_from = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now() - week);\n\n\nexport const main_url = '//localhost:3000';\n","import { main_url } from './config';\n\nconst baseUrl = `${window.location.protocol}${process.env.REACT_APP_API_URL || main_url}`;\n\nconst checkResponce = (res) => new Promise((resolve, reject) => {\n  const func = res.status < 400 ? resolve : reject;\n  res.json().then((data) => {\n    func({ status: res.status, data });\n  });\n});\n\n\nconst getUserInfo = () => fetch(`${baseUrl}/users/me`, {\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('token')}`,\n  },\n  method: 'GET',\n})\n  .then(checkResponce);\n\n\nconst getArticlesFromServer = () => fetch(`${baseUrl}/articles`, {\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('token')}`,\n  },\n  method: 'GET',\n})\n  .then(checkResponce);\n\nconst addNewArticle = ({\n  keyword,\n  title,\n  text,\n  date,\n  source,\n  link,\n  image,\n}) => fetch(`${baseUrl}/articles`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('token')}`,\n  },\n  body: JSON.stringify({\n    keyword,\n    title,\n    text,\n    date,\n    source,\n    link,\n    image,\n  }),\n})\n  .then(checkResponce);\n\nconst removeArticle = (id) => fetch(`${baseUrl}/articles/${id}`, {\n  method: 'DELETE',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('token')}`,\n  },\n})\n  .then(checkResponce);\n\nconst register = (email, password, name) => fetch(`${baseUrl}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password, name }),\n})\n  .then(checkResponce);\n\n\nconst authorize = (email, password) => fetch(`${baseUrl}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n  .then(checkResponce);\n\nconst getContent = (token) => fetch(`${baseUrl}/users/me`, {\n  method: 'GET',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n})\n  .then(checkResponce);\n\nexport {\n  getUserInfo,\n  getArticlesFromServer,\n  addNewArticle,\n  removeArticle,\n  register,\n  authorize,\n  getContent,\n}\n","import React from 'react';\nimport {\n  Route, Switch, useLocation, useHistory,\n} from 'react-router-dom';\n\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport LoginPopup from '../Popups/LoginPopup/LoginPopup';\nimport RegisterPopup from '../Popups/RegisterPopup/RegisterPopup';\nimport InfoTooltip from '../Popups/InfoTooltip/InfoTooltip';\nimport Preloader from '../Preloader/Preloader';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\nimport articles from '../../utils/allNews';\n\nimport CurrentUserContext from '../../contexts/currentUserContext';\nimport {\n  getArticlesFromServer,\n  addNewArticle,\n  removeArticle,\n  getUserInfo,\n  register,\n  authorize,\n  getContent,\n} from '../../utils/mainApi';\nimport { searchArticles } from '../../utils/newsApi';\nimport { converter } from '../../utils/utils.js';\n\nfunction App() {\n  const [screenWidth, setScreenWidth] = React.useState(window.innerWidth);\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n  const [tooltipMessage, setTooltipMessage] = React.useState('');\n  const [tooltipCanAuth, setTooltipCanAuth] = React.useState(false);\n  const [isPreloaderOpen, setIsPreloaderOpen] = React.useState(false);\n  const [searchArticlesArray, setSearchArticlesArray] = React.useState([]);\n  const [savedArticlesArray, setSavedArticlesArray] = React.useState([]);\n  const [rowArticles, setRowArticles] = React.useState(3);\n  const [searchMarker, setSearchMarker] = React.useState(true);\n  const [notFound, setNotFound] = React.useState(false);\n  const { pathname } = useLocation();\n\n  // --> авторизация\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [userName, setUserName] = React.useState('');\n  const [isActionSuccess, setIsActionSuccess] = React.useState(true);\n  const [actionError, setActionError] = React.useState('');\n\n\n  const history = useHistory();\n  // <-- авторизация\n\n  function handleError(err) {\n    handleInfoTooltipOpen(`Что-то пошло не так: \\n ${err.data.message || err}`);\n\n    console.log('Ошибка: ', err);\n  }\n\n  const handleArticleRequest = ({\n    keyword,\n    title,\n    text,\n    date,\n    source,\n    link,\n    image,\n  }) => {\n    return addNewArticle({\n      keyword,\n      title,\n      text,\n      date,\n      source,\n      link,\n      image,\n    })\n  }\n\n  function handleAddArticle(article) {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      return;\n    }\n\n    const saved = savedArticlesArray\n      .find((i) => i.title === article.title\n        && i.date === article.date\n        && i.source === article.source);\n\n    if (saved && article._id.indexOf(article.title) === -1) {\n      handleArticleDelete(saved);\n    } else {\n      setIsPreloaderOpen(true);\n      addNewArticle(article).then((newArticle) => {\n        article._id = newArticle.data._id;\n        article.isSaved = true;\n        // Обновляем стейт карточек\n        setSavedArticlesArray([newArticle.data, ...savedArticlesArray]);\n      })\n        .catch((err) => {\n          handleError(err);\n        })\n        .finally(() => {\n          setIsPreloaderOpen(false);\n        });\n    }\n  }\n\n  function handleShowMoreArticles() {\n    setRowArticles(rowArticles + 3);\n  }\n\n  function getArticlesFromAPI(values) {\n    const { keyword } = values;\n    const searchWord = '' + keyword.trim().toLowerCase();\n    if (searchWord.length === 0) {\n      handleInfoTooltipOpen('Введите непустое слово.');\n      setIsPreloaderOpen(false);\n      return;\n      //      setSearchArticlesArray([]);\n    }\n    searchArticles(searchWord)\n      .then((data) => {\n        if (data.articles.length !== 0) {\n          const convertArticles = converter(data.articles, searchWord);\n          setSearchArticlesArray(convertArticles);\n          setSearchMarker(!searchMarker);\n        } else {\n          setNotFound(true);\n        }\n      })\n      .catch(err => console.log(err))\n      .finally(() => { setIsPreloaderOpen(false) });\n  }\n  function handleSearchArticles(keyword) {\n    setSearchArticlesArray([]);\n    setNotFound(false);\n    setIsPreloaderOpen(true);\n    setRowArticles(3);\n    getArticlesFromAPI(keyword);\n  }\n\n\n  function handleArticleDelete(article) {\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    setIsPreloaderOpen(true);\n    removeArticle(article._id).then(() => {\n      // Создаем копию массива, исключив из него удалённую карточку\n      const newArticles = savedArticlesArray.filter((art) => art._id !== article._id);\n      // Обновляем стейт\n      setSavedArticlesArray(newArticles);\n    })\n      .catch((err) => {\n        handleError(err);\n      })\n      .finally(() => { setIsPreloaderOpen(false) });\n  }\n\n  function onSetErrorStatus(status, message) {\n    setIsActionSuccess(status);\n    setActionError(message);\n  }\n\n  function closeAllPopups() {\n    setIsLoginPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  function handleInfoTooltipOpen(message, canAuth = false) {\n    setIsRegisterPopupOpen(false);\n    setIsLoginPopupOpen(false);\n    setTooltipMessage(message);\n    setTooltipCanAuth(canAuth);\n    setIsInfoTooltipPopupOpen(true);\n  }\n\n  function deleteActionError() {\n    setIsActionSuccess(true);\n    setActionError(true);\n  }\n\n  function handleLoginPopupOpen() {\n    deleteActionError();\n    setIsRegisterPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setIsLoginPopupOpen(true);\n  }\n\n  function handleRegisterPopupOpen() {\n    deleteActionError();\n    setIsLoginPopupOpen(false);\n    setIsRegisterPopupOpen(true);\n  }\n  const handleRegister = (userData) => {\n    register(userData.email, userData.password, userData.name)\n      .then((res) => {\n        if (res.data.email) {\n          setIsRegisterPopupOpen(false);\n          handleInfoTooltipOpen('Пользователь успешно зарегистрирован!', true);\n\n        } else {\n          return new Promise().reject();\n        }\n      })\n      .catch((err) => {\n        let errMessage = 'Что-то пошло не так';\n        if (err.data) {\n\n          if (err.data.message) {\n            errMessage = err.data.message;\n          } else {\n            errMessage = err.data.error;\n          }\n        }\n        onSetErrorStatus(false, errMessage);\n      });\n  }\n\n  // --> авторизация\n  const handleLogin = (userData) => {\n    authorize(userData.email, userData.password)\n      .then((res) => {\n        getContent(res.data.token).then((user) => {\n          if (user.data) {\n            setCurrentUser(user.data);\n\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('searchedArticles', savedArticlesArray);\n            setUserName(user.data.name);\n            setLoggedIn(true);\n            setIsLoginPopupOpen(false);\n            handleInfoTooltipOpen('Вы успешно вошли на сайт!');\n          } else {\n            return new Promise().reject();\n          }\n        });\n      })\n      .catch((err) => {\n        let errMessage = 'Что-то пошло не так';\n        if (err.data) {\n          errMessage = err.data.message;\n        }\n        onSetErrorStatus(false, errMessage);\n      });\n  }\n\n\n  // проверка сохранена ли уже найденная статья\n  const checkSavedArticles = () => {\n    if (searchArticlesArray.length) {\n      const savedLinks = savedArticlesArray.map(({ link }) => link);\n      const markedArticles = searchArticlesArray.map((article) => {\n        const isSaved = savedLinks.includes(article.link);\n        const saved = isSaved\n          ? savedArticlesArray.find((item) => item.link === article.link)\n          : article;\n        return { ...saved, isSaved };\n      });\n      setSearchArticlesArray(markedArticles);\n    }\n  };\n\n  // при выходе найденным статьям установить 'isSaved: false'\n  const clearIsSavedOnLogout = () => {\n    if (searchArticlesArray.length) {\n      const markedArticles = searchArticlesArray.map((article) => ({ ...article, isSaved: false }));\n      setSearchArticlesArray(markedArticles);\n    }\n  };\n\n  const tokenCheck = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      // eslint-disable-next-line consistent-return\n      getContent(token).then((res) => {\n        if (res.data.email) {\n          setCurrentUser(res.data);\n          setLoggedIn(true);\n        } else {\n          return new Promise().reject();\n        }\n      })\n        .catch(() => handleInfoTooltipOpen('Что-то пошло не так! Проблемы с токеном.'));\n    } else {\n      setSearchArticlesArray(articles);\n      setLoggedIn(false);\n      setCurrentUser({});\n    }\n  };\n\n  React.useEffect(() => {\n    getUserInfo().then((initialUserInfo) => {\n      setCurrentUser(initialUserInfo);\n    })\n      .catch((err) => console.error(err));\n  }, []);\n\n  React.useEffect(() => {\n    tokenCheck();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const articles = JSON.parse(localStorage.getItem('searchedArticles')) || [];\n    if (articles.length) {\n      setSearchArticlesArray(articles);\n    }\n  }, []);\n\n  // сохраняем найденные статьи для повторного открытия страницы\n  React.useEffect(() => {\n    localStorage.setItem('searchedArticles', JSON.stringify(searchArticlesArray));\n  }, [searchArticlesArray]);\n\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      setIsPreloaderOpen(false);\n      getArticlesFromServer().then((initialArticleList) => {\n        const articleList = initialArticleList.data.reverse().map((article) => ({ isSaved: true, ...article }));\n        setSavedArticlesArray(articleList);\n      })\n        .catch((err) => console.error(err))\n        .finally(() => {\n          setIsPreloaderOpen(false);\n        });\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n    // eslint-disable-next-line\n  }, [loggedIn]);\n\n  // синхронизируем найденные и сохраненные статьи\n  React.useEffect(() => {\n    if (savedArticlesArray.length && loggedIn) {\n      checkSavedArticles();\n    } else {\n      clearIsSavedOnLogout();\n    }\n  }, [savedArticlesArray, loggedIn, searchMarker]);\n\n  // выход из профиля\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('searchedArticles');\n    setUserName('');\n\n    setLoggedIn(false);\n    setSearchArticlesArray([]);\n    history.push('/');\n  };\n  // <-- авторизация\n\n  function handleEsc(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  //отслеживаем размеры экрана для изменения меню\n  React.useEffect(() => {\n    function changeScreenSize(e) {\n      setScreenWidth(e.target.innerWidth);\n    }\n    window.addEventListener('resize', changeScreenSize);\n    return () => {\n      window.removeEventListener('resize', changeScreenSize);\n    }\n  }, [])\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedIn}\n          pathname={pathname}\n          handleLogin={handleLoginPopupOpen}\n          handleSignOut={handleSignOut}\n          hasOpenPopup={isLoginPopupOpen || isRegisterPopupOpen}\n          screenWidth={screenWidth}\n          userName={userName}\n        />\n        <Switch>\n          <Route exact path='/'> {/* Главная */}\n            <Main\n              loggedIn={loggedIn}\n              pathname={pathname}\n              articles={searchArticlesArray}\n              rowArticles={rowArticles}\n              screenWidth={screenWidth}\n              handleShowMoreArticles={handleShowMoreArticles}\n              handleSearchArticles={handleSearchArticles}\n              notFound={notFound}\n              onAddArticle={handleAddArticle}\n              onArticleDelete={handleArticleDelete}\n              handleArticleRequest={handleArticleRequest}\n              onHandleError={handleError}\n              handleBookmarkUnsavedClick={() => handleLoginPopupOpen()}\n            />\n          </Route>\n          <ProtectedRoute exact path='/saved-news'\n            component={SavedNews}\n            loggedIn={loggedIn}\n            pathname={pathname}\n            userName={userName}\n            articles={savedArticlesArray}\n            screenWidth={screenWidth}\n            onHandleError={handleError}\n            onArticleDelete={handleArticleDelete}\n          />\n        </Switch>\n        <Footer screenWidth={screenWidth} />\n\n        <LoginPopup\n          name='login'\n          handleLogin={handleLogin}\n          isOpen={isLoginPopupOpen}\n          onClose={closeAllPopups}\n          onChangeForm={handleRegisterPopupOpen}\n          actionError={actionError}\n          isActionSuccess={isActionSuccess}\n        />\n\n        <RegisterPopup\n          name='register'\n          handleRegister={handleRegister}\n          isOpen={isRegisterPopupOpen}\n          onClose={closeAllPopups}\n          onChangeForm={handleLoginPopupOpen}\n          actionError={actionError}\n          isActionSuccess={isActionSuccess}\n        />\n\n        <InfoTooltip\n          name='infoToolLip'\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closeAllPopups}\n          message={tooltipMessage}\n          canAuth={tooltipCanAuth}\n          onChangeForm={handleLoginPopupOpen}\n        />\n\n        <Preloader\n          isOpen={isPreloaderOpen}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import {\n  news_api_url,\n  news_api_key,\n  data_from,\n  data_to,\n  pageSize,\n  news_search_error,\n} from './config';\n\nexport const searchArticles = (keyword) => {\n  const url = news_api_url\n    + '?q=' + keyword\n    + '&apiKey=' + news_api_key\n    + '&from=' + data_from\n    + '&to=' + data_to\n    + '&pageSize=' + pageSize\n    + '&sortBy=publishedAt';\n\n  return fetch(url, {\n    method: 'GET',\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return new Promise().reject(new Error(`${news_search_error} (Ошибка: ${res.status})`));\n    });\n};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost'\r\n  // [::1] is the IPv6 localhost address.\r\n  || window.location.hostname === '[::1]'\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  || window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n  ),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service '\r\n            + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all '\r\n                + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404\r\n        || (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}